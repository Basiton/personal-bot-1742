#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–º–µ–Ω—ã –∞–∫–∫–∞—É–Ω—Ç–æ–≤
"""
import json

def test_auto_switch():
    print("=" * 60)
    print("–¢–ï–°–¢ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ô –ó–ê–ú–ï–ù–´ –ê–ö–ö–ê–£–ù–¢–û–í")
    print("=" * 60)
    
    # –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞
    with open('bot_data.json', 'r', encoding='utf-8') as f:
        data = json.load(f)
    
    accounts = data.get('accounts', {})
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã
    print("\nüì± –¢–µ–∫—É—â–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã:")
    for phone, acc_data in accounts.items():
        status = "‚úÖ –ê–ö–¢–ò–í–ï–ù" if acc_data.get('active') else "‚ùå –†–ï–ó–ï–†–í"
        name = acc_data.get('name', '–ë–µ–∑ –∏–º–µ–Ω–∏')
        print(f"   {status} - {name} ({phone})")
    
    # –°—á–∏—Ç–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ
    active_count = sum(1 for d in accounts.values() if d.get('active'))
    reserve_count = sum(1 for d in accounts.values() if not d.get('active') and d.get('session'))
    
    print(f"\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:")
    print(f"   –ê–∫—Ç–∏–≤–Ω—ã—Ö: {active_count}")
    print(f"   –†–µ–∑–µ—Ä–≤–Ω—ã—Ö: {reserve_count}")
    
    print("\n" + "=" * 60)
    print("‚úÖ –§–£–ù–ö–¶–ò–Ø –ê–í–¢–û–ó–ê–ú–ï–ù–´ –£–°–¢–ê–ù–û–í–õ–ï–ù–ê!")
    print("=" * 60)
    
    print("\nüîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–∑–∞–º–µ–Ω–∞:")
    print("   1. –ü—Ä–∏ –±–∞–Ω–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ (FloodWait/Account Ban)")
    print("   2. –ê–∫–∫–∞—É–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è (active = False)")
    print("   3. –ü–µ—Ä–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è")
    print("   4. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram")
    
    print("\nüìù –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:")
    print("   /toggleaccount +79123456789 - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –∞–∫–∫–∞—É–Ω—Ç–∞")
    print("   /listaccounts - —É–≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å—ã (‚úÖ –∞–∫—Ç–∏–≤–µ–Ω / ‚ùå —Ä–µ–∑–µ—Ä–≤)")
    
    print("\n‚ö†Ô∏è –î–ª—è —Ç–µ—Å—Ç–∞ –∞–≤—Ç–æ–∑–∞–º–µ–Ω—ã:")
    print("   1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã (‚ùå –†–ï–ó–ï–†–í)")
    print("   2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ /startmon")
    print("   3. –î–æ–∂–¥–∏—Ç–µ—Å—å –±–∞–Ω–∞ –æ–¥–Ω–æ–≥–æ –∏–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤")
    print("   4. –†–µ–∑–µ—Ä–≤–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è!")
    
    if reserve_count == 0:
        print("\nüí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:")
        print("   –£ –≤–∞—Å –Ω–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤!")
        print("   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: /toggleaccount +–Ω–æ–º–µ—Ä")
        print("   —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏")
    
if __name__ == '__main__':
    test_auto_switch()
