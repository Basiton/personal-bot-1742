# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É –¥–µ–ø–ª–æ—é

## üìã –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

### 1. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∫–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
cd /root
git clone https://github.com/Basiton/personal-bot-1742.git bot
cd bot
```

### 2. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –±—ç–∫–∞–ø–∞
```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å –±—ç–∫–∞–ø
cp bot_data.json.manual_backup_XXXXXXXX bot_data.json

# –ò–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑—É–µ–º –∞–∫–∫–∞—É–Ω—Ç—ã —á–µ—Ä–µ–∑ Telegram
# (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /auth –≤ –±–æ—Ç–µ)
```

### 3. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
```bash
nohup python3 main.py > bot_logs.txt 2>&1 &
```

---

## üîÑ –û–±—ã—á–Ω—ã–π –¥–µ–ø–ª–æ–π (–∫–∞–∂–¥—ã–π —Ä–∞–∑)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd /root/bot
./deploy.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π
```bash
cd /root/bot

# –ë—ç–∫–∞–ø (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
cp bot_data.json bot_data.json.backup_$(date +%Y%m%d_%H%M%S)

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pkill -f "python3 main.py"

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull

# –ó–∞–ø—É—Å–∫
nohup python3 main.py > bot_logs.txt 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∫–∞
tail -f bot_logs.txt
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

### –ß—Ç–æ –≤ Git (–º–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å)
‚úÖ `main.py` - –∫–æ–¥ –±–æ—Ç–∞
‚úÖ `deploy.sh` - —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
‚úÖ `.gitignore` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
‚úÖ `README.md`, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ß—Ç–æ –ù–ï –≤ Git (—Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
‚ùå `bot_data.json` - –¥–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ —Å–µ—Å—Å–∏–π
‚ùå `*.session` - —Ñ–∞–π–ª—ã —Å–µ—Å—Å–∏–π Telegram
‚ùå `bot_advanced.db` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚ùå `bot_logs.txt` - –ª–æ–≥–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
–ë–æ—Ç —Å–æ–∑–¥–∞—ë—Ç –±—ç–∫–∞–ø—ã –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:
- `bot_data.json.autobak` - –ø–æ—Å–ª–µ–¥–Ω–∏–π –∞–≤—Ç–æ–±—ç–∫–∞–ø

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä—É—á–Ω—ã–µ –±—ç–∫–∞–ø—ã:
```bash
cp bot_data.json bot_data.json.manual_$(date +%Y%m%d_%H%M%S)
```

---

## üîß –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è

### –ï—Å–ª–∏ bot_data.json –ø–æ–≤—Ä–µ–∂–¥—ë–Ω
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
pkill -f "python3 main.py"

# 2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±—ç–∫–∞–ø–∞
cp bot_data.json.autobak bot_data.json
# –∏–ª–∏
cp bot_data.json.manual_XXXXXXXX bot_data.json

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
python3 -c "import json; print(f'OK: {len(json.load(open(\"bot_data.json\"))[\"accounts\"])} accounts')"

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å
nohup python3 main.py > bot_logs.txt 2>&1 &
```

### –ï—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç—ã "—Å–ª–µ—Ç–µ–ª–∏"
```bash
# 1. –ù–ï –ü–ê–ù–ò–ö–û–í–ê–¢–¨! –°–µ—Å—Å–∏–∏ –Ω–∞ –º–µ—Å—Ç–µ –≤ bot_data.json
# 2. –í Telegram –±–æ—Ç–µ:
/verify_sessions  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
/listaccounts     # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
# –õ–æ–≥–∏
tail -f bot_logs.txt

# –ü—Ä–æ—Ü–µ—Å—Å
ps aux | grep python3

# –í Telegram
/listaccounts     # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã
/verify_sessions  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

---

## üéØ –¢–∏–ø–∏—á–Ω—ã–π workflow

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ Codespaces
```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç–µ main.py
git add main.py
git commit -m "fix: —á—Ç–æ-—Ç–æ –∏—Å–ø—Ä–∞–≤–∏–ª"
git push
```

### –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
ssh root@–≤–∞—à-—Å–µ—Ä–≤–µ—Ä
cd /root/bot
./deploy.sh
```

**–ì–æ—Ç–æ–≤–æ!** –ê–∫–∫–∞—É–Ω—Ç—ã –∏ —Å–µ—Å—Å–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

1. **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `bot_data.json` –≤ Git
2. **–í–°–ï–ì–î–ê** –¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏
3. **–ù–ï –£–î–ê–õ–Ø–ô–¢–ï** `bot_session.session` (—Å–µ—Å—Å–∏—è –±–æ—Ç–∞)
4. **–ü–†–û–í–ï–†–Ø–ô–¢–ï** –ª–æ–≥–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–ø–ª–æ—è
5. **–ò–°–ü–û–õ–¨–ó–£–ô–¢–ï** `/verify_sessions` —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üìû Troubleshooting

**Q: –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –±–æ—Ç –Ω–µ –≤–∏–¥–∏—Ç –∞–∫–∫–∞—É–Ω—Ç—ã**
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `bot_data.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω

**Q: –ë–æ—Ç —É–ø–∞–ª —Å –æ—à–∏–±–∫–æ–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ**
A: –°–º–æ—Ç—Ä–∏—Ç–µ `bot_logs.txt`, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

**Q: –•–æ—á—É –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞**
A: `git reset --hard COMMIT_HASH && ./deploy.sh`

**Q: –ü–æ—Ç–µ—Ä—è–ª –≤—Å–µ –±—ç–∫–∞–ø—ã**
A: –°–µ—Å—Å–∏–∏ –≤—Å—ë –µ—â—ë –≤ `bot_data.json`, –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

---

## üéì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫)
```bash
sudo nano /etc/systemd/system/telegram-bot.service
```

```ini
[Unit]
Description=Telegram Comment Bot
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/root/bot
ExecStart=/usr/bin/python3 /root/bot/main.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl enable telegram-bot
sudo systemctl start telegram-bot
sudo systemctl status telegram-bot
```

–¢–æ–≥–¥–∞ –¥–µ–ø–ª–æ–π —Å—Ç–∞–Ω–µ—Ç –µ—â—ë –ø—Ä–æ—â–µ:
```bash
./deploy.sh
sudo systemctl restart telegram-bot
```
