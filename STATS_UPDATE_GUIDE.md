# üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /stats

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–ö–æ–º–∞–Ω–¥–∞ `/stats` —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º, –∫–∞–Ω–∞–ª–∞–º, —Å–∫–æ—Ä–æ—Å—Ç–∏ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏ –æ —Ä–∏—Å–∫–∞—Ö.

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –û–±—â–∞—è —Å–≤–æ–¥–∫–∞ + —Å–∫–æ—Ä–æ—Å—Ç—å
- ‚ö° **–°–∫–æ—Ä–æ—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** (–∫–æ–º–º/—á–∞—Å –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å)
- üë• **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤**
- üìã **–õ–∏–º–∏—Ç** (—Ç–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç –∏–∑ `/setspeed`)
- ‚úÖ **–í—Å–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** (–∑–∞ –≤—Å—ë –≤—Ä–µ–º—è)
- üìà **–°–µ–≥–æ–¥–Ω—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**

### 2. –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º
–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- ‚úÖ/üîµ/üî¥ –°—Ç–∞—Ç—É—Å (active/reserve/broken)
- üì± –¢–µ–ª–µ—Ñ–æ–Ω
- üìä –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å–µ–≥–æ–¥–Ω—è
- üìä –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤—Å–µ–≥–æ
- ‚ö†Ô∏è –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

–ü—Ä–∏–º–µ—Ä:
```
‚úÖ `+18622376920` ‚Ä¢ —Å–µ–≥–æ–¥–Ω—è: 57 ‚Ä¢ –≤—Å–µ–≥–æ: 320 ‚Ä¢ –æ—à–∏–±–∫–∏: 3
üîµ `+12539061764` ‚Ä¢ —Å–µ–≥–æ–¥–Ω—è: 12 ‚Ä¢ –≤—Å–µ–≥–æ: 90 ‚Ä¢ –æ—à–∏–±–∫–∏: 0
```

### 3. –¢–æ–ø –∞–∫–∫–∞—É–Ω—Ç–æ–≤
–¢–æ–ø-3 —Å–∞–º—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è:
```
üèÜ –¢–û–ü –ê–ö–ö–ê–£–ù–¢–û–í –°–ï–ì–û–î–ù–Ø:
1. `+18622376920` ‚Äî 57 –∫–æ–º–º
2. `+12539061764` ‚Äî 34 –∫–æ–º–º
```

### 4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º
- üì∫ **–í—Å–µ–≥–æ –∫–∞–Ω–∞–ª–æ–≤ –≤ —Ä–∞–±–æ—Ç–µ**
- ‚úÖ **–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ–≥–æ–¥–Ω—è** (–≥–¥–µ –±—ã–ª —Ö–æ—Ç—è –±—ã 1 –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
- üö´ **–ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ/–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ)
- üìä **–¢–æ–ø-3 –∫–∞–Ω–∞–ª–∞** –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è

### 5. –ü–æ—Å–ª–µ–¥–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
–°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏ –∏ –¥–∞—Ç–∞–º–∏

### 6. –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
–°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### 7. –†–∏—Å–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
- ‚ö†Ô∏è **–ü–æ–≤—ã—à–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** (‚â•2 –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞)
- ‚ö†Ô∏è **–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫** (>30% –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ)
- ‚ö° **–ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ –ª–∏–º–∏—Ç—É —Å–∫–æ—Ä–æ—Å—Ç–∏** (>90% –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤ –ë–î: `account_stats`
```sql
CREATE TABLE account_stats (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    phone TEXT,
    channel TEXT,
    event_type TEXT,  -- 'comment_sent' –∏–ª–∏ 'comment_failed'
    timestamp TEXT,
    success INTEGER DEFAULT 1,
    error_message TEXT
)
```

–ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
- `idx_account_stats_phone` (–ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É)
- `idx_account_stats_timestamp` (–ø–æ –≤—Ä–µ–º–µ–Ω–∏)
- `idx_account_stats_channel` (–ø–æ –∫–∞–Ω–∞–ª—É)

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –º–µ—Ç–æ–¥ `add_comment_stat()`
–¢–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```python
async def add_comment_stat(self, phone, success=True, channel=None, error_message=None)
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ —Å–æ–±—ã—Ç–∏—è —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ `account_stats`:
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- ‚ùå –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏

## –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
python3 migrate_stats.py
```

–°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑ `comment_history` –≤ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É `account_stats`.

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ
- ‚úÖ –°—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ `comment_history` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ `/stats`

```
üìä –£–ü–†–ê–í–õ–ï–ù–ß–ï–°–ö–ò–ô –û–¢–ß–Å–¢

‚ö° –°–∫–æ—Ä–æ—Å—Ç—å: 45 –∫–æ–º–º/—á–∞—Å
üë• –ê–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤: 3
üìã –õ–∏–º–∏—Ç: 20 –∫–æ–º–º/—á–∞—Å –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç
‚úÖ –í—Å–µ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤: 1245
üìà –°–µ–≥–æ–¥–Ω—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤: 178

üë§ –ê–ö–ö–ê–£–ù–¢–´:
‚úÖ `+1862237***` ‚Ä¢ —Å–µ–≥–æ–¥–Ω—è: 57 ‚Ä¢ –≤—Å–µ–≥–æ: 320 ‚Ä¢ –æ—à–∏–±–∫–∏: 3
‚úÖ `+1253906***` ‚Ä¢ —Å–µ–≥–æ–¥–Ω—è: 34 ‚Ä¢ –≤—Å–µ–≥–æ: 215 ‚Ä¢ –æ—à–∏–±–∫–∏: 1
üîµ `+1987654***` ‚Ä¢ —Å–µ–≥–æ–¥–Ω—è: 12 ‚Ä¢ –≤—Å–µ–≥–æ: 90 ‚Ä¢ –æ—à–∏–±–∫–∏: 0

üèÜ –¢–û–ü –ê–ö–ö–ê–£–ù–¢–û–í –°–ï–ì–û–î–ù–Ø:
1. `+1862237***` ‚Äî 57 –∫–æ–º–º
2. `+1253906***` ‚Äî 34 –∫–æ–º–º
3. `+1987654***` ‚Äî 12 –∫–æ–º–º

üì∫ –ö–ê–ù–ê–õ–´:
‚Ä¢ –í—Å–µ–≥–æ –≤ —Ä–∞–±–æ—Ç–µ: 45
‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ–≥–æ–¥–Ω—è: 23
‚Ä¢ –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤: 5

üìä –¢–û–ü –ö–ê–ù–ê–õ–û–í –°–ï–ì–û–î–ù–Ø:
1. `@crypto_signals` ‚Äî 25 –∫–æ–º–º
2. `@bitcoin_news` ‚Äî 18 –∫–æ–º–º
3. `@trading_pumps` ‚Äî 15 –∫–æ–º–º

üö´ –ü–û–°–õ–ï–î–ù–ò–ï –ë–õ–û–ö–ò–†–û–í–ö–ò:
‚Ä¢ `+1862237***` ‚Äî FloodWait (2026-01-15)
‚Ä¢ `+1253906***` ‚Äî UserBanned (2026-01-14)

üí¨ –ü–û–°–õ–ï–î–ù–ò–ï –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò:
‚Ä¢ `@crypto_signals` | –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–∑–≥–ª—è–¥... (2026-01-16)
‚Ä¢ `@bitcoin_news` | –°–æ–≥–ª–∞—Å–µ–Ω —Å –∞–≤—Ç–æ—Ä–æ–º... (2026-01-16)

üîî –†–ò–°–ö–ò –ò –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø:
‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ü–æ–≤—ã—à–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∏–∑–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∫—Å–∏.
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- `/setbioall` ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å –±–∏–æ –∫–æ –≤—Å–µ–º –∞–∫—Ç–∏–≤–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–∞–º (—Å—Ç–∞—Ä–∞—è `/setbio`)
- `/setbio` ‚Äî —Ç–µ–ø–µ—Ä—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∏–æ

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏–Ω–¥–µ–∫—Å–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
